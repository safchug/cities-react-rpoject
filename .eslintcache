[{"/home/safchug/WebstormProjects/react-cities-project/src/index.js":"1","/home/safchug/WebstormProjects/react-cities-project/src/App.js":"2","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Home.js":"3","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Auth/Login.js":"4","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Auth/Registration.js":"5","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/CitiesList.js":"6","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/Search.js":"7","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/CityInfo.js":"8","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/UpdateCityForm.js":"9","/home/safchug/WebstormProjects/react-cities-project/src/config/router.config.js":"10","/home/safchug/WebstormProjects/react-cities-project/src/store/AuthService.js":"11","/home/safchug/WebstormProjects/react-cities-project/src/store/StoreContext.js":"12","/home/safchug/WebstormProjects/react-cities-project/src/utils/AxiosInstance.js":"13","/home/safchug/WebstormProjects/react-cities-project/src/models/User.js":"14","/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/LoginForm.js":"15","/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/CustomAlert.js":"16","/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/RegistrationForm/RegistrationForm.js":"17","/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/RegistrationForm/validation.js":"18","/home/safchug/WebstormProjects/react-cities-project/src/Components/Menu/TopNavigation.js":"19","/home/safchug/WebstormProjects/react-cities-project/src/Components/Menu/CustomMenu.js":"20","/home/safchug/WebstormProjects/react-cities-project/src/store/CitiesService.js":"21","/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/Loader/Loader.js":"22"},{"size":197,"mtime":1607422242320,"results":"23","hashOfConfig":"24"},{"size":938,"mtime":1607630228114,"results":"25","hashOfConfig":"24"},{"size":330,"mtime":1607632934108,"results":"26","hashOfConfig":"24"},{"size":865,"mtime":1607586532299,"results":"27","hashOfConfig":"24"},{"size":1208,"mtime":1607589098201,"results":"28","hashOfConfig":"24"},{"size":1319,"mtime":1607632934044,"results":"29","hashOfConfig":"24"},{"size":584,"mtime":1607630427119,"results":"30","hashOfConfig":"24"},{"size":1594,"mtime":1607633734344,"results":"31","hashOfConfig":"24"},{"size":1761,"mtime":1607518104025,"results":"32","hashOfConfig":"24"},{"size":527,"mtime":1607632933944,"results":"33","hashOfConfig":"24"},{"size":2321,"mtime":1607621756461,"results":"34","hashOfConfig":"24"},{"size":108,"mtime":1607543483968,"results":"35","hashOfConfig":"24"},{"size":243,"mtime":1607544288770,"results":"36","hashOfConfig":"24"},{"size":206,"mtime":1607544057413,"results":"37","hashOfConfig":"24"},{"size":1009,"mtime":1607586532195,"results":"38","hashOfConfig":"24"},{"size":213,"mtime":1607586532175,"results":"39","hashOfConfig":"24"},{"size":2441,"mtime":1607599051697,"results":"40","hashOfConfig":"24"},{"size":914,"mtime":1607593476902,"results":"41","hashOfConfig":"24"},{"size":330,"mtime":1607608072420,"results":"42","hashOfConfig":"24"},{"size":1322,"mtime":1607621755933,"results":"43","hashOfConfig":"24"},{"size":1415,"mtime":1607630285918,"results":"44","hashOfConfig":"24"},{"size":306,"mtime":1607622713731,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"tp7qlt",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"48"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"48"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"48"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"48"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/home/safchug/WebstormProjects/react-cities-project/src/index.js",[],["99","100"],"/home/safchug/WebstormProjects/react-cities-project/src/App.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Pages/Home.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Pages/Auth/Login.js",["101","102","103"],"import { Button, Col, Form, Input, Row } from \"antd\";\nimport { useContext } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useHistory } from \"react-router-dom\";\n\nimport StoreContext from \"../../store/StoreContext\";\nimport LoginFrom from \"../../Components/UI/LoginForm\";\n\nconst Login = observer(() => {\n  const { auth } = useContext(StoreContext);\n\n  const history = useHistory();\n\n  const submit = (e) => {\n    auth.login(e);\n  };\n\n  const goHome = () => {\n    console.log(\"go home has been called\");\n    history.push(\"/\");\n  };\n\n  return (\n    <div className=\"login\">\n      <Row justify=\"center\" align=\"middle\">\n        <Col span=\"8\">\n          {auth.loginStatus === \"pending\" ? (\n            <LoginFrom submit={submit} />\n          ) : (\n            goHome()\n          )}\n        </Col>\n      </Row>\n    </div>\n  );\n});\n\nexport default Login;\n","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Auth/Registration.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/CitiesList.js",["104","105","106"],"import { Fragment, useContext, useEffect, useState } from \"react\";\nimport { Col, Card, Row, Typography, Button } from \"antd\";\nimport { observer } from \"mobx-react-lite\";\nimport StoreContext from \"../../store/StoreContext\";\nimport { useHistory } from \"react-router-dom\";\nimport Loader from \"../../Components/UI/Loader/Loader\";\n\nconst CitiesList = observer(() => {\n  const { Text } = Typography;\n\n  const { cities } = useContext(StoreContext);\n  let history = useHistory();\n\n  useEffect(() => {\n    console.log(\"effect\");\n    cities.fetchCitiesList();\n  }, []);\n\n  const showInfo = (id) => {\n    history.push(`/city_info/${id}`);\n  };\n\n  return (\n    <Row gutter={[16, 16]}>\n      {cities.loading ? (\n        <Loader />\n      ) : (\n        cities.citiesList &&\n        cities.citiesList.map((city) => (\n          <Col span={8} className=\"gutter-row\">\n            <Card\n              title={city.name}\n              className=\"city_card\"\n              extra={\n                <Button type=\"primary\" onClick={showInfo.bind(null, city.id)}>\n                  {\" \"}\n                  More\n                </Button>\n              }\n            >\n              <Text mark>Population</Text>\n              {city.population}\n            </Card>\n          </Col>\n        ))\n      )}\n    </Row>\n  );\n});\n\nexport default CitiesList;\n","/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/Search.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/CityInfo.js",["107","108","109"],"/home/safchug/WebstormProjects/react-cities-project/src/Pages/Cities/UpdateCityForm.js",[],["110","111"],"/home/safchug/WebstormProjects/react-cities-project/src/config/router.config.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/store/AuthService.js",["112"],"import {\n  makeObservable,\n  observable,\n  computed,\n  action,\n  runInAction,\n} from \"mobx\";\n\nimport axiosInstance from \"../utils/AxiosInstance\";\n\nclass AuthService {\n  registrationStatus = \"pending\"; // \"pending\", \"done\" or \"error\"\n  registrationResult = null;\n\n  loginStatus = \"pending\";\n  loginError = null;\n  user = null;\n\n  constructor() {\n    makeObservable(this, {\n      registrationStatus: observable,\n      registrationResult: observable,\n      register: action,\n\n      loginStatus: observable,\n      loginError: observable,\n      user: observable,\n      login: action,\n\n      checkUser: action,\n\n      logOut: action,\n    });\n  }\n\n  async register(data) {\n    try {\n      const response = await axiosInstance({\n        method: \"post\",\n        url: \"/registration\",\n        data,\n      });\n\n      runInAction(() => {\n        this.registrationStatus = \"done\";\n        this.registrationResult = response;\n      });\n    } catch (err) {\n      runInAction(() => {\n        this.registrationStatus = \"error\";\n        this.registrationResult = err;\n      });\n    }\n  }\n\n  async login(data) {\n    try {\n      const response = await axiosInstance({\n        method: \"post\",\n        url: \"/login\",\n        data,\n      });\n      const token = response.data.accessToken;\n      const { user } = response.data;\n\n      localStorage.setItem(\"accs_tkn\", token);\n\n      runInAction(() => {\n        this.loginStatus = \"done\";\n        this.user = user;\n      });\n    } catch (err) {\n      runInAction(() => {\n        this.loginStatus = \"error\";\n        this.loginError = err;\n      });\n    }\n  }\n\n  async checkUser() {\n    try {\n      const token = localStorage.getItem(\"accs_tkn\");\n      if (token) {\n        console.log(\"token exists\");\n        const response = await axiosInstance({\n          method: \"post\",\n          url: \"/auth\",\n          headers: { Authorization: `Bearer ${token}` },\n          body: {},\n        });\n\n        runInAction(() => {\n          this.user = response.data;\n        });\n      } else {\n        throw new Error();\n      }\n    } catch (err) {\n      localStorage.removeItem(\"accs_tkn\");\n      runInAction(() => {\n        this.user = null;\n      });\n    }\n  }\n\n  logOut() {\n    this.loginStatus = \"pending\";\n    this.user = null;\n    localStorage.removeItem(\"accs_tkn\");\n  }\n}\n\nexport default AuthService;\n","/home/safchug/WebstormProjects/react-cities-project/src/store/StoreContext.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/utils/AxiosInstance.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/models/User.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/LoginForm.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/CustomAlert.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/RegistrationForm/RegistrationForm.js",["113"],"import { useState } from \"react\";\nimport { Button, Col, Form, Input, Row } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport validation from \"./validation\";\nimport CustomAlert from \"../CustomAlert\";\n\nconst RegistrationFrom = ({ submit, error }) => {\n  const [fullName, setFullName] = useState(\"\");\n  const [mail, setMail] = useState(\"\");\n  const [birthday, setBirthday] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n\n  const changeName = (e) => {\n    setFullName(e.target.value);\n  };\n\n  const changeMail = (e) => {\n    setMail(e.target.value);\n  };\n\n  const changeBirthday = (e) => {\n    setBirthday(e.target.value);\n  };\n\n  const changePassword = (e) => {\n    setPassword(e.target.value);\n  };\n  const changeConfirm = (e) => {\n    setConfirm(e.target.value);\n  };\n\n  const layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n  };\n\n  const processError = () => {\n    let responseMsg = \"Something went wrong\";\n\n    if (error.response) {\n      responseMsg = error.response.data.message;\n    }\n\n    return <CustomAlert type=\"error\" message={responseMsg} />;\n  };\n\n  return (\n    <Form onFinish={submit} {...layout}>\n      {error && processError()}\n\n      <Form.Item name=\"name\" label=\"Full name\" rules={validation.name}>\n        <Input value={fullName} onChange={changeName} />\n      </Form.Item>\n      <Form.Item name=\"birthday\" label=\"Birthday\" rules={validation.birthday}>\n        <Input value={birthday} onChange={changeBirthday} />\n      </Form.Item>\n      <Form.Item name=\"mail\" label=\"E-mail\" rules={validation.mail}>\n        <Input value={mail} onChange={changeMail} />\n      </Form.Item>\n\n      <Form.Item\n        name=\"password\"\n        label=\"Password\"\n        rules={validation.password}\n        hasFeedback\n      >\n        <Input.Password value={password} onChange={changePassword} />\n      </Form.Item>\n\n      <Form.Item\n        name=\"confirm\"\n        label=\"Confirm Password\"\n        dependencies={[\"password\"]}\n        hasFeedback\n        rules={validation.confirm}\n      >\n        <Input.Password value={confirm} onChange={changeConfirm} />\n      </Form.Item>\n\n      <Row justify=\"end\">\n        <Button type=\"primary\" htmlType=\"submit\">\n          Register\n        </Button>\n      </Row>\n    </Form>\n  );\n};\n\nRegistrationFrom.propTypes = {\n  submit: PropTypes.func.isRequired,\n  error: PropTypes.object,\n};\n\nexport default RegistrationFrom;\n","/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/RegistrationForm/validation.js",[],["114","115"],"/home/safchug/WebstormProjects/react-cities-project/src/Components/Menu/TopNavigation.js",["116","117"],"import { observer } from \"mobx-react-lite\";\nimport { Layout, Menu } from \"antd\";\n\nimport CustomMenu from \"./CustomMenu\";\n\nconst { Header } = Layout;\n\nconst TopNavigation = () => {\n  return (\n    <Layout className=\"layout\">\n      <Header>\n        <CustomMenu />\n      </Header>\n    </Layout>\n  );\n};\n\nexport default TopNavigation;\n","/home/safchug/WebstormProjects/react-cities-project/src/Components/Menu/CustomMenu.js",["118"],"import { Menu } from \"antd\";\nimport { NavLink } from \"react-router-dom\";\nimport { observer } from \"mobx-react-lite\";\nimport { useContext, useEffect, Fragment } from \"react\";\nimport StoreContext from \"../../store/StoreContext\";\n\nconst CustomMenu = observer(() => {\n  const { auth } = useContext(StoreContext);\n\n  useEffect(() => {\n    auth.checkUser();\n  }, []);\n\n  const logOut = (e) => {\n    auth.logOut();\n  };\n\n  return (\n    <Menu mode=\"horizontal\" theme=\"dark\">\n      <Menu.Item key=\"logo\">\n        <NavLink exact to=\"/\">\n          Cities Service\n        </NavLink>\n      </Menu.Item>\n      {auth.user ? (\n        <Fragment>\n          <Menu.Item key=\"logout\" className=\"menu_right\" onClick={logOut}>\n            Log out\n          </Menu.Item>\n          <Menu.Item key=\"user\" className=\"menu_right\">\n            {auth.user.name}\n          </Menu.Item>\n        </Fragment>\n      ) : (\n        <Fragment>\n          <Menu.Item key=\"login\" className=\"menu_right\">\n            <NavLink exact to=\"/login\">\n              Log in\n            </NavLink>\n          </Menu.Item>\n          <Menu.Item key=\"logout\" className=\"menu_right\">\n            <NavLink exact to=\"/registration\">\n              Sign in\n            </NavLink>\n          </Menu.Item>\n        </Fragment>\n      )}\n    </Menu>\n  );\n});\n\nexport default CustomMenu;\n","/home/safchug/WebstormProjects/react-cities-project/src/store/CitiesService.js",[],"/home/safchug/WebstormProjects/react-cities-project/src/Components/UI/Loader/Loader.js",[],{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","severity":1,"message":"124","line":1,"column":10,"nodeType":"125","messageId":"126","endLine":1,"endColumn":16},{"ruleId":"123","severity":1,"message":"127","line":1,"column":23,"nodeType":"125","messageId":"126","endLine":1,"endColumn":27},{"ruleId":"123","severity":1,"message":"128","line":1,"column":29,"nodeType":"125","messageId":"126","endLine":1,"endColumn":34},{"ruleId":"123","severity":1,"message":"129","line":1,"column":10,"nodeType":"125","messageId":"126","endLine":1,"endColumn":18},{"ruleId":"123","severity":1,"message":"130","line":1,"column":43,"nodeType":"125","messageId":"126","endLine":1,"endColumn":51},{"ruleId":"131","severity":1,"message":"132","line":17,"column":6,"nodeType":"133","endLine":17,"endColumn":8,"suggestions":"134"},{"ruleId":"123","severity":1,"message":"129","line":1,"column":10,"nodeType":"125","messageId":"126","endLine":1,"endColumn":18},{"ruleId":"123","severity":1,"message":"135","line":2,"column":22,"nodeType":"125","messageId":"126","endLine":2,"endColumn":27},{"ruleId":"131","severity":1,"message":"136","line":18,"column":6,"nodeType":"133","endLine":18,"endColumn":8,"suggestions":"137"},{"ruleId":"119","replacedBy":"138"},{"ruleId":"121","replacedBy":"139"},{"ruleId":"123","severity":1,"message":"140","line":4,"column":3,"nodeType":"125","messageId":"126","endLine":4,"endColumn":11},{"ruleId":"123","severity":1,"message":"141","line":2,"column":18,"nodeType":"125","messageId":"126","endLine":2,"endColumn":21},{"ruleId":"119","replacedBy":"142"},{"ruleId":"121","replacedBy":"143"},{"ruleId":"123","severity":1,"message":"144","line":1,"column":10,"nodeType":"125","messageId":"126","endLine":1,"endColumn":18},{"ruleId":"123","severity":1,"message":"145","line":2,"column":18,"nodeType":"125","messageId":"126","endLine":2,"endColumn":22},{"ruleId":"131","severity":1,"message":"146","line":12,"column":6,"nodeType":"133","endLine":12,"endColumn":8,"suggestions":"147"},"no-native-reassign",["148"],"no-negated-in-lhs",["149"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","'Input' is defined but never used.","'Fragment' is defined but never used.","'useState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'cities'. Either include it or remove the dependency array.","ArrayExpression",["150"],"'Space' is defined but never used.","React Hook useEffect has missing dependencies: 'cities' and 'id'. Either include them or remove the dependency array.",["151"],["148"],["149"],"'computed' is defined but never used.","'Col' is defined but never used.",["148"],["149"],"'observer' is defined but never used.","'Menu' is defined but never used.","React Hook useEffect has a missing dependency: 'auth'. Either include it or remove the dependency array.",["152"],"no-global-assign","no-unsafe-negation",{"desc":"153","fix":"154"},{"desc":"155","fix":"156"},{"desc":"157","fix":"158"},"Update the dependencies array to be: [cities]",{"range":"159","text":"160"},"Update the dependencies array to be: [cities, id]",{"range":"161","text":"162"},"Update the dependencies array to be: [auth]",{"range":"163","text":"164"},[555,557],"[cities]",[493,495],"[cities, id]",[357,359],"[auth]"]